<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mengenlehreuhr (Berlin Clock)</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #222;
            position: relative;
        }
        .clock {
            display: grid;
            gap: 10px;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        .row {
            display: flex;
            justify-content: center;
        }
        .lamp {
            width: 20px;
            height: 20px;
            margin: 3px;
            background-color: #333;
            border-radius: 5px;
        }
        .red { background-color: red; }
        .yellow { background-color: yellow; }

        #clockCanvas {
            width: 320px;
            height: 200px;
            position: absolute;
            z-index: 0;
            background-color: grey;
            border: #c0c0c0 solid 5px;
            border-radius: 20px;
        }
    </style>
</head>
<body>
    <canvas id="clockCanvas"></canvas>
    <div class="clock">
        <div id="seconds" class="row"><div class="lamp"></div></div>
        <div id="hours5" class="row"></div>
        <div id="hours1" class="row"></div>
        <div id="minutes5" class="row"></div>
        <div id="minutes1" class="row"></div>
    </div>
    
    <script>
        // Draw frame on canvas
        const canvas = document.getElementById('clockCanvas');
        const ctx = canvas.getContext('2d');

        function createLamps(container, count) {
            for (let i = 0; i < count; i++) {
                let lamp = document.createElement("div");
                lamp.classList.add("lamp");
                container.appendChild(lamp);
            }
        }
        
        createLamps(document.getElementById("hours5"), 4);
        createLamps(document.getElementById("hours1"), 4);
        createLamps(document.getElementById("minutes5"), 11);
        createLamps(document.getElementById("minutes1"), 4);

        function updateClock() {
            let now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            
            document.getElementById("seconds").firstChild.className = "lamp " + (seconds % 2 === 0 ? "yellow" : "");

            let hour5Lamps = document.getElementById("hours5").children;
            for (let i = 0; i < hour5Lamps.length; i++) {
                hour5Lamps[i].className = "lamp " + (i < Math.floor(hours / 5) ? "red" : "");
            }

            let hour1Lamps = document.getElementById("hours1").children;
            for (let i = 0; i < hour1Lamps.length; i++) {
                hour1Lamps[i].className = "lamp " + (i < hours % 5 ? "red" : "");
            }

            let minute5Lamps = document.getElementById("minutes5").children;
            for (let i = 0; i < minute5Lamps.length; i++) {
                let isQuarter = (i + 1) % 3 === 0;
                minute5Lamps[i].className = "lamp " + (i < Math.floor(minutes / 5) ? (isQuarter ? "red" : "yellow") : "");
            }

            let minute1Lamps = document.getElementById("minutes1").children;
            for (let i = 0; i < minute1Lamps.length; i++) {
                minute1Lamps[i].className = "lamp " + (i < minutes % 5 ? "yellow" : "");
            }
        }

        setInterval(updateClock, 1000);
        updateClock();
    </script>
</body>
</html>